<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%230891B2;stop-opacity:1' /%3E%3Cstop offset='50%25' style='stop-color:%23059669;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%232563EB;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='100' height='100' rx='20' fill='url(%23grad)'/%3E%3Cpath d='M30 40h40c5.5 0 10 4.5 10 10v20c0 5.5-4.5 10-10 10H30c-5.5 0-10-4.5-10-10V50c0-5.5 4.5-10 10-10z' fill='white' fill-opacity='0.9'/%3E%3Ccircle cx='75' cy='35' r='12' fill='%23F59E0B'/%3E%3Ctext x='75' y='40' text-anchor='middle' fill='white' font-family='Arial' font-size='10' font-weight='bold'%3Eâ‚¹%3C/text%3E%3C/svg%3E" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Spendly - Track, Save, Grow. Personal Finance App for India with UPI Payments" />
    <meta name="keywords" content="personal finance, budget tracker, UPI payments, expense tracker, money management, India" />
    <meta name="author" content="Spendly Team" />
    
    <!-- UPI Intent Handling -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Spendly - Track â€¢ Save â€¢ Grow" />
    <meta property="og:description" content="Smart personal finance management with real UPI payments for India" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:title" content="Spendly - Track â€¢ Save â€¢ Grow" />
    <meta property="twitter:description" content="Smart personal finance management with real UPI payments for India" />
    
    <title>Spendly - Track â€¢ Save â€¢ Grow</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    
    <!-- UPI Intent Handling Script -->
    <script>
      // Enhanced UPI intent handling for better app redirection
      window.addEventListener('beforeunload', function(e) {
        // Allow UPI app redirects without confirmation
        if (window.location.href.includes('upi://') || 
            window.location.href.includes('phonepe://') ||
            window.location.href.includes('tez://') ||
            window.location.href.includes('paytmmp://') ||
            window.location.href.includes('bhim://')) {
          return;
        }
      });

      // Handle page visibility changes for UPI app returns
      document.addEventListener('visibilitychange', function() {
        if (document.visibilityState === 'visible') {
          // User returned to the app - they might have completed payment
          const pendingPayment = sessionStorage.getItem('pendingPayment');
          if (pendingPayment) {
            console.log('ðŸ”„ User returned from UPI app - payment may be completed');
            // The React app will handle showing the confirmation dialog
          }
        }
      });

      // Detect if user is on mobile for better UPI handling
      window.isMobileDevice = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      
      // Enhanced UPI app detection
      window.detectUPIApps = function() {
        const apps = {
          phonepe: 'phonepe://',
          googlepay: 'tez://',
          paytm: 'paytmmp://',
          bhim: 'bhim://',
          generic: 'upi://'
        };
        
        return apps;
      };
    </script>
  </body>
</html>